<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>
			Audioboox
		</title>
		<link rel="stylesheet" href="style.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	</head>
	<body>
		<div class="container">
			<header id="navbar">
				<nav>
					<ul>
						<li>
							<a href="index.html">
								Home
							</a>
						</li>
						<li>
							<a href="Text-to-Speech.html">
								Text-to-Speech
							</a>
						</li>
						<li>
							<a href="Library.html">
								Bibliothek
							</a>
						</li>
						<li>
							<a href="premium.html">
								Premium
							</a>
						</li>
						<li>
							<a href="Account.html">
								Mein Konto
							</a>
						</li>
					</ul>
				</nav>
				<h1>
					Willkommen bei Audioboox
				</h1>
			</header>
			<main style=display:block>
				<div>
					<br>
					<div>
						<label for="audio-upload">
							Hörbuch zum abspielen auswählen:
						</label>
						<br>
						<!-- file select button -->
						<button class="bLib" style="width:120px; height:35px;" onclick="document.getElementById('audio-upload').click()">
							Hörbuch auswählen
						</button>
						<input id="audio-upload" type="file" style="display:none" />
					</div>
					<br>
					<p id=title>
					</p>
					<audio controls id=audio style="display:none">
						<source src="" type="audio/ogg">
							<source src="" type="audio/mpeg">
					</audio>
				</div>
			</main>
		</div>
		<script>
			// function to handle the audio file change
			function changeHandler({
				target
			}) {
				// Make sure we have files to use
				if (!target.files.length) return;

				// Create a blob that we can use as an src for our audio element
				const urlObj = URL.createObjectURL(target.files[0]);

				// Create an audio element
				const audio = document.getElementById("audio");
				// Display the audio element
				document.getElementById("audio").style.display = "initial";
				// Get the title element
				const title = document.getElementById("title");
				// Set the title of the audio
				title.innerText = this.files[0].name;

				// Clean up the URL Object after we are done with it
				audio.addEventListener("load", () = >{
					URL.revokeObjectURL(urlObj);
				});

				// Allow us to control the audio
				audio.controls = "true";

				// Set the src and start loading the audio from the file
				audio.src = urlObj;
				// set the starting speed of the audio
				audio.playbackRate = 1.30;
			}

			document.getElementById("audio-upload").addEventListener("change", changeHandler);
			// get navbar and main section elements
			var navbar = document.getElementById("navbar");
			var mainSection = document.querySelector("main");

			// get height of navbar for use in calculations
			var navbarHeight = navbar.offsetHeight;

			// listen for page load and set margin for main section
			document.addEventListener("DOMContentLoaded",
			function() {
				mainSection.style.marginTop = navbarHeight + "px";
			});

			// listen for scroll event and apply sticky class to navbar
			window.addEventListener("scroll",
			function() {
				if (window.pageYOffset >= navbarHeight) {
					navbar.classList.add("sticky");
					mainSection.style.marginTop = "0";
				} else {
					navbar.classList.remove("sticky");
					mainSection.style.marginTop = navbarHeight + "px";
				}
			});
		</script>
	</body>
	<footer>
		<div class="footer-left">
			<p class="footer-links">
				<a href="impressum.html">
					Impressum
				</a>
				·
				<a href="Contact.html">
					Kontakt
				</a>
			</p>
			<div class="footer-icons">
				<a href="https://twitter.com/audioboox">
					<i class="fa fa-twitter">
					</i>
				</a>
				<a href="https://www.linkedin.com/company/audioboox">
					<i class="fa fa-linkedin">
					</i>
				</a>
				<a href="https://github.com/PatrikGass/Weichware">
					<i class="fa fa-github">
					</i>
				</a>
			</div>
		</div>
	</footer>

</html>
